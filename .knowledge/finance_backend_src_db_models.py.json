{"is_source_file": true, "format": "Python", "description": "This file defines SQLAlchemy ORM models for a financial management application, including models for users, transactions, budgets, and goals with associated timestamps and relationships.", "external_files": ["src/db/session.py"], "external_methods": [], "published": ["User", "Transaction", "Budget", "Goal", "TimestampMixin"], "classes": [{"name": "TimestampMixin", "description": "A mixin class providing created_at and updated_at timestamp fields for models."}, {"name": "User", "description": "Represents a user entity supporting multi-user functionality with associated transactions, budgets, and goals."}, {"name": "Transaction", "description": "Represents a financial transaction record, linked to a user, with details such as amount, date, category, and type."}, {"name": "Budget", "description": "Represents a user's monthly budget for a specific category."}, {"name": "Goal", "description": "Represents a savings goal for a user, including target amount, current amount, and target date."}], "methods": [{"name": "TimestampMixin", "description": "Defines timestamp columns for record creation and update times."}, {"name": "User", "description": "Defines the user model with relationships to transactions, budgets, and goals."}, {"name": "Transaction", "description": "Defines the transaction model with foreign key to user and indices for querying."}, {"name": "Budget", "description": "Defines the budget model with foreign key to user and indices for querying."}, {"name": "Goal", "description": "Defines the goal model with foreign key to user and indices for querying."}], "calls": ["datetime.utcnow"], "search-terms": ["models.py", "SQLAlchemy ORM", "User model", "Transaction model", "Budget model", "Goal model", "TimestampMixin", "relationship", "Mapped", "ForeignKey"], "state": 2, "file_id": 7, "knowledge_revision": 85, "git_revision": "049a946d4293b3f27890f2ca302f7a42e59d47aa", "revision_history": [{"15": ""}, {"20": "049a946d4293b3f27890f2ca302f7a42e59d47aa"}, {"85": "049a946d4293b3f27890f2ca302f7a42e59d47aa"}], "ctags": [{"_type": "tag", "name": "Budget", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^class Budget(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Goal", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^class Goal(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TimestampMixin", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^class TimestampMixin:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Transaction", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^class Transaction(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^class User(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"budgets\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"goals\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"transactions\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    amount: Mapped[float] = mapped_column(Numeric(12, 2), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[float]", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    amount: Mapped[float] = mapped_column(Numeric(12, 2), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[float]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "budgets", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    budgets: Mapped[list[\"Budget\"]] = relationship(back_populates=\"user\", cascade=\"all, delete-o/", "language": "Python", "typeref": "typename:Mapped[list[\"Budget\"]]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    category: Mapped[str] = mapped_column(String(100), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    category: Mapped[str] = mapped_column(String(100), nullable=False, index=True)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow, nullable=Fal/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "TimestampMixin", "scopeKind": "class"}, {"_type": "tag", "name": "current_amount", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    current_amount: Mapped[float] = mapped_column(Numeric(12, 2), nullable=False, default=0)$/", "language": "Python", "typeref": "typename:Mapped[float]", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "date", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    date: Mapped[date] = mapped_column(Date, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[date]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    description: Mapped[Optional[str]] = mapped_column(Text, nullable=True, default=None)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    email: Mapped[str] = mapped_column(String(255), nullable=False, default=\"demo@user\")$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "goals", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    goals: Mapped[list[\"Goal\"]] = relationship(back_populates=\"user\", cascade=\"all, delete-orpha/", "language": "Python", "typeref": "typename:Mapped[list[\"Goal\"]]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "month", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    month: Mapped[str] = mapped_column(String(7), nullable=False, index=True)  # YYYY-MM$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    name: Mapped[str] = mapped_column(String(150), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "password_hash", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    password_hash: Mapped[Optional[str]] = mapped_column(String(255), nullable=True, default=Non/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "target_amount", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    target_amount: Mapped[float] = mapped_column(Numeric(12, 2), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[float]", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "target_date", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    target_date: Mapped[Optional[date]] = mapped_column(Date, nullable=True, default=None)$/", "language": "Python", "typeref": "typename:Mapped[Optional[date]]", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "transactions", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    transactions: Mapped[list[\"Transaction\"]] = relationship(back_populates=\"user\", cascade=\"all/", "language": "Python", "typeref": "typename:Mapped[list[\"Transaction\"]]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    type: Mapped[str] = mapped_column(String(20), nullable=False, default=\"expense\")  # expense /", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    updated_at: Mapped[datetime] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "TimestampMixin", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    user: Mapped[\"User\"] = relationship(back_populates=\"budgets\")$/", "language": "Python", "typeref": "typename:Mapped[\"User\"]", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    user: Mapped[\"User\"] = relationship(back_populates=\"goals\")$/", "language": "Python", "typeref": "typename:Mapped[\"User\"]", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    user: Mapped[\"User\"] = relationship(back_populates=\"transactions\")$/", "language": "Python", "typeref": "typename:Mapped[\"User\"]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    user_id: Mapped[int] = mapped_column(ForeignKey(\"users.id\", ondelete=\"CASCADE\"), index=True,/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Budget", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    user_id: Mapped[int] = mapped_column(ForeignKey(\"users.id\", ondelete=\"CASCADE\"), index=True,/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Goal", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/db/models.py", "pattern": "/^    user_id: Mapped[int] = mapped_column(ForeignKey(\"users.id\", ondelete=\"CASCADE\"), index=True,/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Transaction", "scopeKind": "class"}], "hash": "4959f2ceb63ee1d811e1aeaa08da6035", "format-version": 4, "code-base-name": "finance_backend", "filename": "finance_backend/src/db/models.py", "fields": [{"name": "__table_args__ = (", "scope": "Budget", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"budgets\"", "scope": "Budget", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"goals\"", "scope": "Goal", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"transactions\"", "scope": "Transaction", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"users\"", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[float] amount", "scope": "Budget", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[list[\"Budget\"]] budgets", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] category", "scope": "Transaction", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[datetime] created_at", "scope": "TimestampMixin", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[float] current_amount", "scope": "Goal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[date] date", "scope": "Transaction", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] description", "scope": "Transaction", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] email", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[list[\"Goal\"]] goals", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] id", "scope": "Budget", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] month", "scope": "Budget", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] name", "scope": "Goal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] password_hash", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[float] target_amount", "scope": "Goal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[date]] target_date", "scope": "Goal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[list[\"Transaction\"]] transactions", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] type", "scope": "Transaction", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[datetime] updated_at", "scope": "TimestampMixin", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[\"User\"] user", "scope": "Budget", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] user_id", "scope": "Budget", "scopeKind": "class", "description": "unavailable"}]}