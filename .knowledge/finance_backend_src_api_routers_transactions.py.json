{"is_source_file": true, "format": "Python", "description": "This Python source file defines API endpoints for managing financial transactions using FastAPI and SQLAlchemy. It includes route handlers for listing, retrieving, creating, updating, and deleting transactions, along with related data schemas and models.", "external_files": ["src/db/models.py", "src/db/schemas.py", "src/db/session.py"], "external_methods": ["get_db()", "Transaction", "TransactionSchema", "TransactionCreateSchema"], "published": ["list_transactions", "get_transaction", "create_transaction", "update_transaction", "delete_transaction"], "classes": [{"name": "TransactionUpdate", "description": "Schema for updating a transaction with optional fields, used in the PATCH/PUT endpoint."}], "methods": [{"name": "list[TransactionSchema] list_transactions( db: Annotated[Session, Depends(get_db)], start: date | None = Query(None, description=\"Start date inclusive (YYYY-MM-DD)\"), end: date | None = Query(None, description=\"End date inclusive (YYYY-MM-DD)\"), category: str | None = Query(None, description=\"Filter by category (exact match)\"), )", "description": "Endpoint to retrieve a list of transactions with optional date range and category filters.", "scope": "", "scopeKind": ""}, {"name": "TransactionSchema get_transaction( tx_id: int, db: Annotated[Session, Depends(get_db)], )", "description": "Retrieve a single transaction by its ID.", "scope": "", "scopeKind": ""}, {"name": "TransactionSchema create_transaction( payload: TransactionCreateSchema, db: Annotated[Session, Depends(get_db)], )", "description": "Create a new transaction record for the default user.", "scope": "", "scopeKind": ""}, {"name": "TransactionSchema update_transaction( tx_id: int, payload: TransactionUpdate, db: Annotated[Session, Depends(get_db)], )", "description": "Update specific fields of an existing transaction identified by ID.", "scope": "", "scopeKind": ""}, {"name": "None delete_transaction( tx_id: int, db: Annotated[Session, Depends(get_db)], )", "description": "Delete a transaction by its ID.", "scope": "", "scopeKind": ""}], "calls": ["select(Transaction)", "db.execute(stmt)", "db.get(Transaction, tx_id)", "db.add(tx)", "db.commit()", "db.refresh(tx)", "db.delete(tx)"], "search-terms": ["transactions api", "FastAPI transaction endpoints", "SQLAlchemy transaction model", "CRUD transactions FastAPI", "transaction filtering", "TransactionUpdate schema"], "state": 2, "file_id": 11, "knowledge_revision": 49, "git_revision": "2d1bfb1735f32536bce9a804478ddb802a807fd7", "revision_history": [{"32": ""}, {"40": "89b29ba0c92a4a64dd36aaa1d3d45e0821055744"}, {"42": "89b29ba0c92a4a64dd36aaa1d3d45e0821055744"}, {"48": "2d1bfb1735f32536bce9a804478ddb802a807fd7"}, {"49": "2d1bfb1735f32536bce9a804478ddb802a807fd7"}], "ctags": [{"_type": "tag", "name": "TransactionCreateSchema", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^from src.db.schemas import TransactionCreate as TransactionCreateSchema$/", "language": "Python", "kind": "unknown", "nameref": "unknown:TransactionCreate"}, {"_type": "tag", "name": "TransactionSchema", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^from src.db.schemas import Transaction as TransactionSchema$/", "language": "Python", "kind": "unknown", "nameref": "unknown:Transaction"}, {"_type": "tag", "name": "TransactionUpdate", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^class TransactionUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "create_transaction", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^def create_transaction($/", "language": "Python", "typeref": "typename:TransactionSchema", "kind": "function", "signature": "( payload: TransactionCreateSchema, db: Annotated[Session, Depends(get_db)], )"}, {"_type": "tag", "name": "delete_transaction", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^def delete_transaction($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( tx_id: int, db: Annotated[Session, Depends(get_db)], )"}, {"_type": "tag", "name": "get_transaction", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^def get_transaction($/", "language": "Python", "typeref": "typename:TransactionSchema", "kind": "function", "signature": "( tx_id: int, db: Annotated[Session, Depends(get_db)], )"}, {"_type": "tag", "name": "list_transactions", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^def list_transactions($/", "language": "Python", "typeref": "typename:list[TransactionSchema]", "kind": "function", "signature": "( db: Annotated[Session, Depends(get_db)], start: date | None = Query(None, description=\"Start date inclusive (YYYY-MM-DD)\"), end: date | None = Query(None, description=\"End date inclusive (YYYY-MM-DD)\"), category: str | None = Query(None, description=\"Filter by category (exact match)\"), )"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^    model_config = ConfigDict(populate_by_name=False)$/", "language": "Python", "kind": "variable", "scope": "TransactionUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^router = APIRouter(prefix=\"\\/transactions\", tags=[\"transactions\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_transaction", "path": "/home/kavia/workspace/code-generation/smart-finance-advisor-282201-283655/finance_backend/src/api/routers/transactions.py", "pattern": "/^def update_transaction($/", "language": "Python", "typeref": "typename:TransactionSchema", "kind": "function", "signature": "( tx_id: int, payload: TransactionUpdate, db: Annotated[Session, Depends(get_db)], )"}], "hash": "c6fffe5a26c6ba147073755ca13c46c7", "format-version": 4, "code-base-name": "finance_backend", "filename": "finance_backend/src/api/routers/transactions.py", "fields": [{"name": "model_config = ConfigDict(populate_by_name=False)", "scope": "TransactionUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/transactions\", tags=[\"transactions\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}